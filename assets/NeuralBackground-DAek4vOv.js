import{R as e,r as t,j as r}from"./motion-vendor-B7Ats-Fc.js";import{C as a,u as o,P as n,a as s,A as i,I as c,V as m,B as l,F as u}from"./three-vendor-D1F6SGg1.js";import{u as d}from"./index-CPvtE3Ps.js";import"./scroll-vendor-CmZmYYXb.js";function h({scrollProgress:e,particleCount:a,mouseX:c,mouseY:m}){const l=t.useRef(),[u]=t.useMemo(()=>{const e=a,t=new Float32Array(3*e);for(let r=0;r<e;r++){const e=Math.random()*Math.PI*2,a=Math.acos(2*Math.random()-1),o=3+8*Math.random();t[3*r]=o*Math.sin(a)*Math.cos(e),t[3*r+1]=o*Math.sin(a)*Math.sin(e),t[3*r+2]=o*Math.cos(a)}return[t]},[a]);return o((t,r)=>{if(!l.current)return;l.current.rotation.y+=.05*r,l.current.rotation.x+=.02*r;const a=c.get()/window.innerWidth*2-1,o=-m.get()/window.innerHeight*2+1;l.current.rotation.x+=.02*(.3*o-l.current.rotation.x),l.current.rotation.y+=.02*(.3*a-l.current.rotation.y);const n=e?.get()||0;l.current.scale.setScalar(1+.5*n)}),r.jsx(n,{ref:l,positions:u,stride:3,frustumCulled:!0,children:r.jsx(s,{transparent:!0,vertexColors:!0,size:.015,sizeAttenuation:!0,depthWrite:!1,blending:i,opacity:.8})})}function p(){const e=t.useRef(),a=t.useMemo(()=>new c(1,1),[]),n=t.useMemo(()=>Array.from({length:5},(e,t)=>({initialPosition:[10*(Math.random()-.5),10*(Math.random()-.5),5*(Math.random()-.5)],scale:.3+.5*Math.random(),color:["#a855f7","#3b82f6","#22d3ee","#ec4899","#10b981"][t],phase:Math.random()*Math.PI*2})),[]);return o((t,r)=>{e.current&&e.current.children.forEach((e,a)=>{const o=n[a];e.position.y=o.initialPosition[1]+.5*Math.sin(t.clock.elapsedTime+o.phase),e.rotation.x+=.2*r,e.rotation.y+=.3*r})}),r.jsx("group",{ref:e,children:n.map((e,t)=>r.jsx("mesh",{position:e.initialPosition,scale:[e.scale,e.scale,e.scale],geometry:a,children:r.jsx("meshBasicMaterial",{color:e.color,transparent:!0,opacity:.3,wireframe:!0})},t))})}function M(){const e=t.useRef(),a=t.useMemo(()=>{const e=[];for(let r=0;r<20;r++){const t=new m(15*(Math.random()-.5),15*(Math.random()-.5),10*(Math.random()-.5)),r=new m(t.x+5*(Math.random()-.5),t.y+5*(Math.random()-.5),t.z+3*(Math.random()-.5));e.push(t.x,t.y,t.z),e.push(r.x,r.y,r.z)}const t=new l;return t.setAttribute("position",new u(e,3)),t},[]);return o(t=>{e.current&&(e.current.rotation.y=.02*t.clock.elapsedTime,e.current.rotation.z=.1*Math.sin(.5*t.clock.elapsedTime))}),r.jsx("lineSegments",{ref:e,geometry:a,children:r.jsx("lineBasicMaterial",{color:"#6366f1",transparent:!0,opacity:.15})})}const x=e.memo(function({scrollProgress:e}){const[o,n]=t.useState(1500),{mouseX:s,mouseY:i}=d();return t.useEffect(()=>{const e=window.matchMedia("(max-width: 768px)"),t=e=>n(e.matches?500:1500);return t(e),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),r.jsxs("div",{className:"neural-background",children:[r.jsxs(a,{camera:{position:[0,0,10],fov:60},dpr:[1,1.5],gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[r.jsx("ambientLight",{intensity:.5}),r.jsx(h,{scrollProgress:e,particleCount:o,mouseX:s,mouseY:i}),r.jsx(p,{}),r.jsx(M,{})]}),r.jsx("div",{className:"gradient-overlay gradient-overlay--top"}),r.jsx("div",{className:"gradient-overlay gradient-overlay--bottom"}),r.jsx("div",{className:"ambient-orb ambient-orb--1"}),r.jsx("div",{className:"ambient-orb ambient-orb--2"}),r.jsx("div",{className:"ambient-orb ambient-orb--3"})]})});export{x as default};
